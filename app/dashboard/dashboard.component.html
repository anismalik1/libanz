<style>
	.cst-eye{
		font-size: 16px;
    color: #333;
    padding-left: 7px;
	}
	.cst-table tr:nth-child(odd) {
    background-color: rgba(242,242,242,0.5);
}
.theader-cst{
    background: #ececec;
    white-space: nowrap;
   
}
.pt-15-fix{

padding-top:15px;
}
.card.on-web {
    height: 100vh;
    
}

.upgrade-now{

	border: 2px dotted #ff5000;
    height: 100px;
    width: 100%;
    background: #fff;
    border-radius: 8px;
	padding: 20px 22px;
}

.font-size-change2 {
    font-size: 19px !important;
    padding-left: 5px !important;
}


.cst-up-txt{

	font-size:22px;
	font-weight: bold;
}
.num-days{


	color:#ff5000
}

.upgrade-now-btn {
    padding-top:10px;
}
.header-strip .grey .lighten-3{


	display: none !important;
}

.cst-table tr td {
    border: 1px solid #e2e2e2;
}
tr.ng-star-inserted {
    border-bottom: 1px solid #bbb9b9;
}

.left-sq-1{

	
	background-color:#1cb4d9;
    height: 110px;
}
.left-sq-2{

	
background-color:#df4f3b;
height: 110px;
}
.left-sq-3{

	
background-color:#30ac5c;
height: 110px;
}
.left-sq-4 {
    background-color: #d21c54;
    height: 110px;
}
.download-sq-2 {
    color: #fff;
    padding: 30px 0px 0px 6px;
    font-size: 40px !important;
}
.download-sq-1{

	color: #fff;
    padding: 30px 0px 0px 12px;
    font-size: 40px !important;
}
.right-sq-1{
	padding: 25px 0px 0px 20px;
    font-size: 24px;
    line-height: 18px;
}
.font-20{

	font-size: 19px !important;
}
	.cashback-box{
	
		color:#7b7b7b;
		border-radius: 2px;
		height: 110px;
		box-shadow: 1px 1px 10px #ececec;
		
	
	}
		.cashback-box-1{
			background-image: linear-gradient( 45deg ,#6dbfef, #5736f4);
		color: #fff;
		border-radius: 10px;
		padding:5px 0px;
		}
	
	
		.cashback-box-2{
			background-image: linear-gradient(45deg, #4CAF50, #d6ff43);
		color: #fff;
		border-radius: 10px;
		padding:5px 0px;
	
		}
		
	
		.pt-left-icon{

position: absolute;
z-index: 999;
right: 36px;
}
		.table-box-design{
	
			width:100%;
			background-color: #fff;
			box-shadow: 1px 1px 10px #ececec;
			padding:12px;
		}
		@media only screen and (max-width: 767px){
			.pt-left-icon{

				position: absolute;
    z-index: 999;
    right: 36px;
			}
			.upgrade-now{
    border: 2px dotted #ff5000;
    height: 150px;
    width: 95%;
    background: #fff;
    border-radius: 8px;
    padding: 20px 22px;
}


			.card-content.user-content {
    min-height: 61px;
    padding: 16px !important;
    font-size: 16px;
}
.cst-up-txt{

font-size:13px;
font-weight: bold;
}

		}
	</style>
	<app-header class="hide-on-mobile"></app-header>
	<div class="spinner-wrapper">
		<ngx-spinner bdColor = "rgba(255,255,255,0.6)" size = "medium" color = "#dc6802" type = "ball-beat" [fullScreen] = "true"></ngx-spinner>
	</div>
	<div class="cst-back" [innerHTML] ="this.todoservice.back_link"></div>
	<div class="fix-mb-top"></div>

	<section class="flash-deal" >
		<div class="container-fluid">
			<div class="row no-margin">
				<div class="col s12 m2">
					<!-- <div class="card">
				  <div class="card-content user-content">
					  <div class="user-image">
						  
						  <div class="circle-img" style="height:30px; width: 30px;background-color:#f00; border-radius:50%; color:#fff;"></div>
					  </div>
							<div class="user-image">
									<img class="responsive-img vertical-align-middle profile" src="{{this.todoservice.get_user_avatar()}}" alt="user-icon" id="change-icon" *ngIf="this.todoservice.get_user_avatar() && this.todoservice.get_user_avatar().includes('data:image/png')"/>
									<img class="responsive-img vertical-align-middle profile" src="{{this.todoservice.server_url}}{{this.todoservice.get_user_avatar()}}" alt="user-icon" id="change-icon" *ngIf="this.todoservice.get_user_avatar() && !this.todoservice.get_user_avatar().includes('data:image/png')"/>
									<span alt="user-icon" id="name-characters" *ngIf="!this.todoservice.get_user_avatar()">{{this.todoservice.get_user_characters()}}</span>
							</div>
					  <div class="user-name">
						  <span>Welcome,</span><br>
						  <span class="font-size-change font600" *ngIf="this.todoservice.get_user_name()">{{this.todoservice.get_user_name()}}</span>
					  </div>
				  </div>
				</div> -->
				<app-side-nav></app-side-nav>
				</div>

				<div class="col s12 m10 ">
					<div class="fix-top-bg">
					<div class="row">
						<div class="chip green white-text" *ngIf="(this.todoservice.get_user_id() == 173 || this.todoservice.get_user_id() == 1321) && this.todoservice.is_subscribed_lead() && this.todoservice.get_days_left() >= 10">
							<span class="white-text">{{this.todoservice.get_days_left()}} days left for your lead Subscription.</span>
							<i class="close material-icons">close</i>
						</div>
						<div class="chip orange white-text" *ngIf="(this.todoservice.get_user_id() == 173 || this.todoservice.get_user_id() == 1321) && this.todoservice.is_subscribed_lead() && this.todoservice.get_days_left() < 10 && this.todoservice.get_days_left() > 0">
							<span class="white-text">{{this.todoservice.get_days_left()}} days left for your lead Subscription.</span>
							<i class="close material-icons">close</i>
						</div>
						<div class="chip red white-text" *ngIf="(this.todoservice.get_user_id() == 173 || this.todoservice.get_user_id() == 1321) && this.todoservice.is_subscribed_lead() && this.todoservice.get_days_left() <= 0">
							<span class="white-text">Your Lead Subscription is Expired. Renew <a routerLink="/">here</a></span>
							<i class="close material-icons">close</i>
						</div>	
						<div class="clearfix"></div>
						<h4 class="font-bold cst-heading-fix font600 inline-block">Welcome To Dashboard </h4>
						<div class="row">
							<!-- <div class="col m5 s12"><h3 class="font600 inline-block">Leads </h3></div> -->
							<div class="col m1 s3 pt-15-fix"><p style="font-size: 14px;
								padding-top: 8px;"> Select Date </p> </div>
							<div class="col m3 s6 pt-15-fix">	<input placeholder="Choose date range" startKey="start" endKey="end" [locale]="{ separator: ' To ',format: 'DD-MM-YYYY'}" [ranges]="ranges" type="text" autocomplete="off" ngxDaterangepickerMd name="daterange" class="form-control"/></div>
							<div class="col m1 s3 pt-15-fix">	<button type="Search" class="btn orange no-box-shadow" (click)="fetch_transactions()">GO</button></div>
							<!-- <div class="col m3 s3"><a [routerLink]="['/dashboard/orders']" class="right inline-block margin-top-cart"><button type="submit" class="btn orange no-box-shadow" id="export-order-txt">View All</button></a></div> -->
						</div>
						<div class="clearfix"></div>
						<div class="col s12 m3">
							<div class="card cashback-box">
									<div class="col s3 left-sq-1">
										<span class="fa fa-download download-sq-1"></span>
									</div>
									<div class="col s9 right-sq-1">
										<span class="card-title inline-block font-size-change1 font-20"><a routerLink="/dashboard/orders">Orders ({{sales_obj.order_count}})</a></span>
									
										<div class="slaes-rup margin-top-cart">
											<i class="icon-inr"></i>	<span class="font-size-change2">{{this.sales_obj.order_sale}}</span>
										</div>
									</div>
							</div>
						</div>
						<div class="col s12 m3">
							<div class="card cashback-box ">
									<div class="col s3 left-sq-2">
										<span class="fa fa-edit download-sq-1"></span>
									</div>
									<div class="col s9 right-sq-1">
										<span class="card-title inline-block font-size-change1 font-20"><a routerLink="/dashboard/complaints">Tickets</a></span>
									
										<div class="slaes-rup margin-top-cart">
											<span class="font-size-change2">{{sales_obj.ticket_count}}</span>
										</div>

									</div>
							</div>
							
						</div>

						<div class="col s12 m3">
							<div class="card cashback-box ">
								<div class="col s3 left-sq-3">
									<span class="fa fa-diamond download-sq-2"></span>
								</div>
								<div class="col s9 right-sq-1">
									<span class="card-title inline-block font-size-change1 font-20"><a routerLink="/dashboard/transactions">Cashback ({{sales_obj.cashback_count}})</a> </span>
								
									<div class="slaes-rup margin-top-cart">
										<i class="icon-inr"></i>	<span class="font-size-change2">{{sales_obj.cashback_sale}}</span>
									</div>

								</div>
							</div>
						</div>

						<div class="col s12 m3">
							<div class="card cashback-box ">
								<div class="col s3 left-sq-4">
									<span class="fa fa-gift download-sq-1"></span>
								</div>
								<div class="col s9 right-sq-1">
									<span class="card-title inline-block font-size-change1 font-20"><a routerLink="/dashboard/transactions">ADD MONEY({{this.sales_obj.addmoney_count}})</a></span>
								
									<div class="slaes-rup margin-top-cart">
										<i class="icon-inr"></i>	<span class="font-size-change2">{{this.sales_obj.addmoney}}</span>
									</div>
								</div>								
							</div>							
						</div>

						
						<!-- <div class="col s12 m4">
							<div class="card cashback-box-2">
								<div class="card-content">
									<span class="card-title inline-block font-size-change1"> <span class="fa fa-diamond pt-left-icon"></span></span>
									<div class="slaes-rup margin-top-cart">
										<span class="font-size-change2"><i class="icon-inr"></i> {{sales_obj.recharge_sale}}</span>
										
									</div>
								</div>
							</div>
						</div> -->
					</div>
					<div class="row" *ngIf="this.todoservice.get_user_type() == 3 && this.todoservice.get_days_left() <= 14">
							<div class="upgrade-now">
					
								<div class="col s12 m10">
							<div class="">
									<h3 class="cst-up-txt" *ngIf="this.todoservice.get_days_left() > 0"><span class="num-days"> {{this.todoservice.get_days_left()}} DAYS </span> LEFT TO UPGRADE THIS PACKAGE</h3>
									<h3 class="cst-up-txt" *ngIf="this.todoservice.get_days_left() == 0">YOUR PLAN HAS EXPIRED. TO ENJOY ALL SERVICES UPGRADE NOW</h3>
							</div>
							</div>
							<div class="col s12 m2">
								<div class="upgrade-now-btn">
									<span id="renew-section"> 
										<a class="orange white-text" *ngIf="(this.todoservice.get_active_pack() == '10000')" [routerLink] = "['/merchant/pricing']">Upgrade</a>
										<a class="orange white-text" *ngIf="(this.todoservice.get_active_pack() != '10000')" [routerLink] = "['/merchant/checkout']" [queryParams]="{plan : this.todoservice.get_active_pack()}">Renew</a>
									</span>
							</div>
						</div>
						
						</div>
					</div>
				<div class="lead-box" *ngIf="(this.todoservice.get_user_id() == 173 || this.todoservice.get_user_id() == 1321) && this.todoservice.is_subscribed_lead() == 1 && leads">
					<div class="row">
						<div class="col m9 s9"><h3 class="font600 inline-block">Recent Leads </h3></div>
						<div class="col m3 s3"><a [routerLink]="['/dashboard/leads']" class="right inline-block margin-top-cart"><button type="submit" class="btn orange no-box-shadow" id="export-order-txt">View All</button></a></div>
					</div>
					<div class="row">
						<div class="col m3 s12" *ngFor="let item of leads;let i = index;">
							<div class="card">
								<div class="card-content lead-item-inner-box">
									<h4 class=" grey-text">{{item.name}}</h4>
									<span class="black-text">{{item.city}}({{item.branchpin}})</span>
									<div class="clearfix"></div>
									<span class="right grey-text">{{item.created}}</span>
								</div>
							</div>
						</div>
					</div>	
				</div>	
				<div class="responsive-table table-box-design" style="width: 100%; overflow:auto; margin-top:35px;">
					<div class="row">
						<div class="col m9 s9"><h3 class="font600 inline-block">Recent Orders </h3></div>
						<div class="col m3 s3"><a [routerLink]="['/dashboard/orders']" class="right inline-block margin-top-cart"><button type="submit" class="btn orange no-box-shadow" id="export-order-txt">View All</button></a></div>
					</div>
					
					
					<div class="responsive-table">
					<table id="datatable" class="table display  datatable-example cst-table">
						<thead class="thead-bg">
							<tr>
								<th>S.No </th>
								<th >Order No</th>
								<th >Subscriber Id</th>
								<th>TXNID/REFID</th>
								<th>Provider/Brand</th>
								<th>Amount</th>
								<!-- <th>Balance After </th> -->
								<th>Date </th>
								<th >C.Address</th>
								<th>Payment Method</th>
								<th >Order Status</th>
								<th>Pyament Status </th>
								<th>View</th>
							</tr>
						</thead>
						
						<tbody>
							<tr *ngFor="let recharge of orders; let i = index">
								<td>{{i+1}}</td>
								<td>{{recharge.id}}</td>
								<td>{{recharge.subcriber_id}}</td>
								<td>{{recharge.transaction_id}}</td>
								<td><span *ngIf="this.decode_data(recharge.order_data) ==''">{{recharge.recharge_name}}</span><span *ngIf="this.decode_data(recharge.order_data) !=''">{{this.decode_data(recharge.order_data)}}</span></td>
								<td><i class="icon-inr"></i>{{recharge.grand_total }}</td>
								<!-- <td><i class="icon-inr"></i>{{balance_after(recharge) | number : '.2-2'}}</td> -->
								<td>{{recharge.history_time | date: 'dd M, Y' }}<br><time>{{recharge.history_time | date:'h:mm a' }}</time></td>
								<td>{{recharge.deliver_to}}</td>
								<td><div [innerHTML]="this.todoservice.paymethod_template(recharge.paymethod)"></div></td>
								<td>
									<div [innerHTML]="this.todoservice.order_template(recharge.status)"></div>
								</td>
								<td>
									<div [innerHTML]="this.todoservice.payment_template(recharge.payment_status)"></div>
								</td>
								<td><a routerLink="/orders/recharge-receipt/{{recharge.id}}" *ngIf="recharge.activity_type == 1"><span class="fa fa-eye cst-eye"></span></a><a routerLink="/product/order-receipt/{{recharge.activity_id}}" *ngIf="recharge.activity_type == 5"><span class="fa fa-eye cst-eye"></span> </a></td>
							</tr>
						</tbody>	
				</table>
			</div>
		</div>
		
		<div class="card-content">
			<div class="col m9 s9"><h3 class="font600 inline-block pt-top-mb"><span class="fa fa-edit"></span> &nbsp; Recent Add Money</h3></div>
			<div class="col m3 s3"><a [routerLink]="['/dashboard/topup-request']" class="right inline-block margin-top-cart"><button type="submit" class="btn orange no-box-shadow" id="export-order-txt">View All</button></a></div>
			<div class="overflow-scroll cst-table">
					<table id="datatable" class="table display  datatable-example">
						<thead class="thead-bg">
								<tr>
									<th >S.No.</th>
									<th >Order Id</th>
									<th >Order Date</th>
									<th >Amount</th>
									<th >Commission/ Surcharge</th>
									<th >Payment Ref ID</th>
									<!-- <th >Order Type</th> -->
									<th >Comment</th>
									<th >Payment Method</th>
									<th >Order Status</th>
									<th >Payment Status</th>
									<th >View</th>
								</tr>
							</thead>
						 	<tbody *ngIf="topups">			
								<tr *ngFor="let topup of topups; let i = index">
									<td nowrap="nowrap">{{i+1}}</td>
									<td nowrap="nowrap">{{topup.id}}</td>
									<td nowrap="nowrap">{{topup.history_time | date: 'dd M, Y'}}<br><time>{{topup.history_time | date:'HH:mm a'}}</time></td>
									<td nowrap="nowrap"><i class="icon-inr"></i>{{topup.grand_total}}</td>
									<td nowrap="nowrap">{{topup.commission_surcharge}}</td>
									<td nowrap="nowrap">{{topup.transaction_id}}</td>
									<td nowrap="nowrap">{{topup.comment}}</td>
									<!-- <td nowrap="nowrap"><span *ngIf="topup.activity_type == 2 || topup.activity_type == 3">Wallet To Wallet</span><span *ngIf="topup.activity_type == 4">Add Money to Wallet</span><span *ngIf="topup.activity_type == 19">Wallet To Bank</span></td> -->
									<td nowrap="nowrap"><div [innerHTML]="this.todoservice.addmoney_paymethod_template(topup.paymethod)"></div></td>
									<!-- <td nowrap="nowrap"><div [innerHTML]="this.todoservice.paymethod_template(topup.paymethod)"></div></td> -->
									<td nowrap="nowrap"><div [innerHTML]="this.todoservice.order_template(topup.status)"></div></td>
									<td nowrap="nowrap"><div [innerHTML]="this.todoservice.payment_template(topup.payment_status)"></div></td>
									
									<td><a routerLink="/dashboard/value-transfer" [queryParams]="{order_id : topup.id}"><span class="fa fa-eye cst-eye"></span></a></td>	
								</tr>  
							</tbody>	
					</table>
			</div>
	</div>

			<!-- <div class="responsive-table table-box-design" style="width: 100%; overflow:auto; margin-top:35px;">
				<div class="row">
					<div class="col m9 s9"><h3 class="font600 inline-block">Sell Order </h3></div>
					<div class="col m3 s3"><a [routerLink]="['/dashboard/orders']" class="right inline-block margin-top-cart"><button type="submit" class="btn orange no-box-shadow" id="export-order-txt">View All</button></a></div>
				</div>
				
				<hr/>
				<div class="responsive-table">
				<table id="datatable" class="table display  datatable-example cst-table">
					<thead class="thead-bg">
							<tr>
									<th>S.No </th>
									<th >Order No</th>
									<th >Customer Name</th>
									<th >C. Phone</th>
									<th >C.Address</th>
									<th> Product </th>
									<th >Amount</th>
									<th>Date </th>
									<th>Subscriber ID</th>
									<th >Remarks</th>
									<th>Payment Method</th>
									<th >Order Status</th>
									<th>Pyament Status </th>
							</tr>
					</thead>
					<tfoot>
							<tr>
								<th>S.No </th>
									<th >Order No</th>
									<th >Customer Name</th>
									<th >C. Phone</th>
									<th >C.Address</th>
									<th> Product </th>
									<th >Amount</th>
									<th>Date </th>
									<th>Subscriber ID</th>
									<th >Remarks</th>
									<th>Payment Method</th>
									<th >Order Status</th>
									<th>Pyament Status </th>
							</tr>
					</tfoot>
					<tbody>
							<tr *ngFor="let recharge of orders; let i = index">
									<td>{{i+1}}</td>
									<td>{{recharge.id}}</td>
									<td>{{recharge.subcriber_id}}</td>
									<td>{{recharge.transaction_id}}</td>
									<td><span *ngIf="this.decode_data(recharge.order_data) ==''">{{recharge.recharge_name}}</span><span *ngIf="this.decode_data(recharge.order_data) !=''">{{this.decode_data(recharge.order_data)}}</span></td>
									<td><i class="icon-inr"></i>{{recharge.grand_total }}</td>
									<td> <i class="icon-inr"></i>{{recharge.balance_before}}</td>
									<td>{{recharge.history_time | date: date:'dd M, Y' }}<br><time>{{recharge.history_time | date:'h:mm a' }}</time></td>
								
										<td>{{recharge.deliver_to}}</td>
										<td>{{recharge.remark}}</td>
										<td><span *ngIf="recharge.paymethod == 1">Wallet</span><span *ngIf="recharge.paymethod == 2">Gateway</span><span *ngIf="recharge.paymethod == 3">Libanz</span><span *ngIf="recharge.paymethod == 4">Paytm</span><span *ngIf="recharge.paymethod == 5">COD</span></td>
										<td>
											<span class="green white-text padd1" *ngIf="recharge.status.toLowerCase() == 'successful'">Success</span><span class="red white-text padd1" *ngIf="recharge.status.toLowerCase() == 'failed'">Fail</span><span class="orange white-text padd1" *ngIf="recharge.status.toLowerCase() == 'pending'">Pending</span>
											<span class="grey white-text padd1" *ngIf="recharge.status.toLowerCase() != 'successful' && recharge.status.toLowerCase() != 'failed' && recharge.status.toLowerCase() != 'pending'">{{recharge.status}}</span>
										</td>
										<td> 	<span class="green white-text padd1">Success </span></td>
							</tr>
					</tbody>	
			</table>
		</div>
	</div> -->

	</div>
</div>
</div>

		
		</div>

	</section>
	
	<app-footer-min></app-footer-min>