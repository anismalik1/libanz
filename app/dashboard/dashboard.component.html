<style>
	.cst-table tr:nth-child(odd) {
    background-color: rgba(242,242,242,0.5);
}
.theader-cst{
    background: #ececec;
    white-space: nowrap;
   
}
.pt-15-fix{

padding-top:15px;
}
.card.on-web {
    height: 100vh;
    
}

.upgrade-now{

	border: 2px dotted #ff5000;
    height: 100px;
    width: 100%;
    background: #fff;
    border-radius: 8px;
	padding: 20px 22px;
}

.cst-up-txt{

	font-size:22px;
	font-weight: bold;
}
.num-days{


	color:#ff5000
}

.upgrade-now-btn {
    padding-top:10px;
}


.cst-table tr td {
    border: 1px solid #e2e2e2;
}
.cst-table{
    white-space: nowrap;
}
tr.ng-star-inserted {
    border-bottom: 1px solid #bbb9b9;
}

.left-sq-1{

	
	background-color:#1cb4d9;
    height: 120px;
}
.left-sq-2{

	
background-color:#df4f3b;
height: 120px;
}
.left-sq-3{

	
background-color:#30ac5c;
height: 120px;
}

.download-sq-2 {
    color: #fff;
    padding: 30px 0px 0px 6px;
    font-size: 40px !important;
}
.download-sq-1{

	color: #fff;
    padding: 30px 0px 0px 12px;
    font-size: 40px !important;
}
.right-sq-1{
	padding: 30px 0px 0px 20px;
    font-size: 24px;
    line-height: 20px;
}
.font-20{

	font-size: 20px !important;
}
	.cashback-box{
	
		color: #333;
		border-radius: 2px;
		height: 120px;
		box-shadow: 1px 1px 10px #ececec;
		
	
	}
		.cashback-box-1{
			background-image: linear-gradient( 45deg ,#6dbfef, #5736f4);
		color: #fff;
		border-radius: 10px;
		padding:5px 0px;
		}
	
	
		.cashback-box-2{
			background-image: linear-gradient(45deg, #4CAF50, #d6ff43);
		color: #fff;
		border-radius: 10px;
		padding:5px 0px;
	
		}
		
	
		.pt-left-icon{

position: absolute;
z-index: 999;
right: 36px;
}
		.table-box-design{
	
			width:100%;
			background-color: #fff;
			box-shadow: 1px 1px 10px #ececec;
			padding:12px;
		}
		@media only screen and (max-width: 767px){
			.pt-left-icon{

				position: absolute;
    z-index: 999;
    right: 36px;
			}
			.upgrade-now{
    border: 2px dotted #ff5000;
    height: 150px;
    width: 95%;
    background: #fff;
    border-radius: 8px;
    padding: 20px 22px;
}


			.card-content.user-content {
    min-height: 61px;
    padding: 16px !important;
    font-size: 16px;
}
.cst-up-txt{

font-size:13px;
font-weight: bold;
}

		}
	</style>
	<app-header class="hide-on-mobile"></app-header>
	<div class="spinner-wrapper">
		<ngx-spinner bdColor = "rgba(255,255,255,0.6)" size = "medium" color = "#ff6a00" type = "ball-beat" [fullScreen] = "true"></ngx-spinner>
	</div>

	<div class="recharge-section show-on-medium-and-down hide-on-med-and-up cst-bg-color">
		<div class="container">
			<div class="col s12">
				<ul class="back-icon">
					<li> <a class="black-text" routerLink="/mhome"><span class="fa fa-arrow-left left-icn-mb1"></span>&nbsp; <span id="page-title"> Dashboard </span></a> <a class="right cart-strip" routerLink="/product/cart"><img src="{{this.todoservice.base_url}}assets/images/cart.png"><span class="strip-circle">{{this.todoservice.cartItemsCount()}}</span></a></li>
				</ul>
			</div>	
			<div class="clearfix"></div>
		</div>
	</div>
	<div class="fix-mb-top"></div>
	<section class="flash-deal">
		<div class="container">
			<div class="row no-margin">
				<div class="col s12 m3">
					<!-- <div class="card">
				  <div class="card-content user-content">
					  <div class="user-image">
						  
						  <div class="circle-img" style="height:30px; width: 30px;background-color:#f00; border-radius:50%; color:#fff;"></div>
					  </div>
							<div class="user-image">
									<img class="responsive-img vertical-align-middle profile" src="{{this.todoservice.get_user_avatar()}}" alt="user-icon" id="change-icon" *ngIf="this.todoservice.get_user_avatar() && this.todoservice.get_user_avatar().includes('data:image/png')"/>
									<img class="responsive-img vertical-align-middle profile" src="{{this.todoservice.server_url}}{{this.todoservice.get_user_avatar()}}" alt="user-icon" id="change-icon" *ngIf="this.todoservice.get_user_avatar() && !this.todoservice.get_user_avatar().includes('data:image/png')"/>
									<span alt="user-icon" id="name-characters" *ngIf="!this.todoservice.get_user_avatar()">{{this.todoservice.get_user_characters()}}</span>
							</div>
					  <div class="user-name">
						  <span>Welcome,</span><br>
						  <span class="font-size-change font600" *ngIf="this.todoservice.get_user_name()">{{this.todoservice.get_user_name()}}</span>
					  </div>
				  </div>
				</div> -->
				<app-side-nav></app-side-nav>
				</div>
				<div class="col s12 m9">
					
					<div class="row">
						
						
						<div class="clearfix"></div>
						<div class="col s12 m4">
							<div class="card cashback-box ">
							

									<div class="col s3 left-sq-1">
										<span class="fa fa-download download-sq-1"></span>
									</div>
									<div class="col s9 right-sq-1">
										<span class="card-title inline-block font-size-change1 font-20">Cashback Received </span>
									
										<div class="slaes-rup margin-top-cart">
											<i class="icon-inr"></i>	<span class="font-size-change2">{{this.sales_obj.cashback_sale + this.sales_obj.promo_sale}}</span>
										</div>

									</div>


									
									
								
							</div>
							
						</div>
						<div class="col s12 m4">
							<div class="card cashback-box ">
							

									<div class="col s3 left-sq-2">
										<span class="fa fa-edit download-sq-1"></span>
									</div>
									<div class="col s9 right-sq-1">
										<span class="card-title inline-block font-size-change1 font-20">DTH Orders ({{sales_obj.order_count}})</span>
									
										<div class="slaes-rup margin-top-cart">
											<i class="icon-inr"></i>	<span class="font-size-change2">{{sales_obj.order_sale }}</span>
										</div>

									</div>


									
									
								
							</div>
							
						</div>

						<div class="col s12 m4">
							<div class="card cashback-box ">
							

									<div class="col s3 left-sq-3">
										<span class="fa fa-diamond download-sq-2"></span>
									</div>
									<div class="col s9 right-sq-1">
										<span class="card-title inline-block font-size-change1 font-20">Recharge Orders ({{sales_obj.recharge_count}}) </span>
									
										<div class="slaes-rup margin-top-cart">
											<i class="icon-inr"></i>	<span class="font-size-change2">{{sales_obj.recharge_sale}}</span>
										</div>

									</div>


									
									
								
							</div>
							
						</div>


						
						<!-- <div class="col s12 m4">
							<div class="card cashback-box-2">
								<div class="card-content">
									<span class="card-title inline-block font-size-change1"> <span class="fa fa-diamond pt-left-icon"></span></span>
									<div class="slaes-rup margin-top-cart">
										<span class="font-size-change2"><i class="icon-inr"></i> {{sales_obj.recharge_sale}}</span>
										
									</div>
								</div>
							</div>
						</div> -->
					</div>
					<div class="row" *ngIf="this.todoservice.get_user_type() == 3 && this.todoservice.get_days_left() <= 14">
							<div class="upgrade-now">
					
								<div class="col s12 m10">
							<div class="">
									<h3 class="cst-up-txt" *ngIf="this.todoservice.get_days_left() > 0"><span class="num-days"> {{this.todoservice.get_days_left()}} DAYS </span> LEFT TO UPGRADE THIS PACKAGE</h3>
									<h3 class="cst-up-txt" *ngIf="this.todoservice.get_days_left() == 0">YOUR PLAN HAS EXPIRED. TO ENJOY ALL SERVICES UPGRADE NOW</h3>
							</div>
							</div>
							<div class="col s12 m2">
								<div class="upgrade-now-btn">
									<span id="renew-section"> 
										<a class="orange white-text" *ngIf="(this.todoservice.get_active_pack() == '10000')" [routerLink] = "['/merchant/pricing']">Upgrade</a>
										<a class="orange white-text" *ngIf="(this.todoservice.get_active_pack() != '10000')" [routerLink] = "['/merchant/checkout']" [queryParams]="{plan : this.todoservice.get_active_pack()}">Renew</a>
									</span>
							</div>
						</div>
						
						</div>
					</div>


					
					<div class="responsive-table table-box-design" style="width: 100%; overflow:auto;">
						
						<!-- <a href="javascript:" class="right inline-block margin-top-cart"><button type="submit" class="btn orange no-box-shadow" (click)="orders_to_export()" id="export-order-txt">Export All Data</button></a> -->
					
					
								
						
							
						
						
						

						<div class="row">
							<div class="col m5 s12"><h3 class="font600 inline-block">Recent Orders</h3></div>
							<div class="col m3 s6 pt-15-fix">	<input placeholder="Choose date range" startKey="start" endKey="end" [locale]="{ separator: ' To ',format: 'DD-MM-YYYY'}" [ranges]="ranges" type="text" autocomplete="off" ngxDaterangepickerMd name="daterange" class="form-control"/></div>
							<div class="col m1 s3 pt-15-fix">	<button type="Search" class="btn orange no-box-shadow" (click)="fetch_transactions()">GO</button></div>
							<div class="col m3 s3"><a [routerLink]="['/dashboard/orders']" class="right inline-block margin-top-cart"><button type="submit" class="btn orange no-box-shadow" id="export-order-txt">View All</button></a></div>
						</div>
						
						<hr/>
						<div class="responsive-table">
						<table id="datatable" class="table display  datatable-example cst-table">
							<thead class="thead-bg">
									<tr>
											<th nowrap="nowrap" width="57px">S.No.</th>
											<th nowrap="nowrap">Order No.</th>
											<th nowrap="nowrap" width="113px">SubscriberID</th>
											<th nowrap="nowrap" width="113px">TXNID/REFID</th>
											<th nowrap="nowrap" width="137px"> Operator </th>
											<th nowrap="nowrap" width="80px">Amount</th>
											<th nowrap="nowrap" width="115px">Pre-Balance </th>
											<th nowrap="nowrap" width="102px">Order Date</th>
											
											<th nowrap="nowrap" width="135px">Deliver to</th>
											<th nowrap="nowrap" width="135px">Remark</th>
											<th nowrap="nowrap" width="140px">Payment Method</th>
											<th nowrap="nowrap" width="130px">Payment Status</th>
											<th nowrap="nowrap" width="135px">Order Status</th>
											<!-- <th nowrap="nowrap" width="95px">Query</th> -->
									</tr>
							</thead>
							<tfoot>
									<tr>
										<th nowrap="nowrap" width="57px">S.No.</th>
											<th nowrap="nowrap">Order No.</th>
											<th nowrap="nowrap" width="113px">SubscriberID</th>
											<th nowrap="nowrap" width="113px">TXNID/REFID</th>
											<th nowrap="nowrap" width="137px"> Operator </th>
											<th nowrap="nowrap" width="80px">Amount</th>
											<th nowrap="nowrap" width="115px">Pre-Balance </th>
											<th nowrap="nowrap" width="102px">Order Date</th>
											
											<th nowrap="nowrap" width="135px">Payment Mode</th>
											<th nowrap="nowrap" width="135px">Remark</th>
											<th nowrap="nowrap" width="140px">Payment Method</th>
											<th nowrap="nowrap" width="130px">Payment Status</th>
											<th nowrap="nowrap" width="135px">Order Status</th>
											<!-- <th nowrap="nowrap" width="95px">Query</th> -->
									</tr>
							</tfoot>
							<tbody>
									<tr *ngFor="let recharge of orders; let i = index">
											<td>{{i+1}}</td>
											<td>{{recharge.id}}</td>
											<td>{{recharge.subcriber_id}}</td>
											<td>{{recharge.transaction_id}}</td>
											<td><span *ngIf="this.decode_data(recharge.order_data) ==''">{{recharge.recharge_name}}</span><span *ngIf="this.decode_data(recharge.order_data) !=''">{{this.decode_data(recharge.order_data)}}</span></td>
											<!-- <td><img src="https://mydthshop.com/media/uploads/api_catimages/{{recharge.api_img}}" width="35px" class="responsive-img" alt="{{recharge.recharge_name}}"></td> -->
											<td><i class="icon-inr"></i>{{recharge.grand_total }}</td>
											<td> <i class="icon-inr"></i>{{recharge.balance_before}}</td>
											<td>{{recharge.history_time | date: date:'dd M, Y' }}<br><time>{{recharge.history_time | date:'h:mm a' }}</time></td>
										
												<td>{{recharge.deliver_to}}</td>
												<td>{{recharge.remark}}</td>
												<td><span *ngIf="recharge.paymethod == 1">Wallet</span><span *ngIf="recharge.paymethod == 2">Gateway</span><span *ngIf="recharge.paymethod == 3">MYDTH</span><span *ngIf="recharge.paymethod == 4">Paytm</span><span *ngIf="recharge.paymethod == 5">COD</span></td>
												<td><span class="green white-text padd1" *ngIf="recharge.payment_status == 1">Complete</span><span class="red white-text padd1" *ngIf="recharge.payment_status == 2">Fail</span><span class="orange white-text padd1" *ngIf="recharge.payment_status == 3">Pending</span><span *ngIf="recharge.payment_status == 4">Refunded</span></td>
													<td>
														<span class="green white-text padd1" *ngIf="recharge.status.toLowerCase() == 'successful'">Success</span><span class="red white-text padd1" *ngIf="recharge.status.toLowerCase() == 'failed'">Fail</span><span class="orange white-text padd1" *ngIf="recharge.status.toLowerCase() == 'pending'">Pending</span>
														<span class="grey white-text padd1" *ngIf="recharge.status.toLowerCase() != 'successful' && recharge.status.toLowerCase() != 'failed' && recharge.status.toLowerCase() != 'pending'">{{recharge.status}}</span>
													</td>
											<!-- <td>
												<div *ngIf="recharge.complaint_id == null">
														<span class="orange white-text" *ngIf="check_delay(recharge.history_time) == 2">Please Wait...</span>
														<span *ngIf="check_delay(recharge.history_time) == 1"><a href="#complaints" class="modal-trigger com" (click)="do_complaint(recharge.id)" *ngIf="recharge.complaint_id == null; else falsyTemplate">Ticket</a></span>
												</div>
												<div *ngIf="recharge.complaint_id != null">
														<span class="orange white-text" *ngIf="recharge.status == 1">In Progress</span>
														<span class="orange white-text" *ngIf="recharge.status == 0">Resolved</span>
												</div>
											</td> -->
									</tr>
							</tbody>	
					</table>
				</div>
				</div>
	
					
				 
				</div>
			</div>

		
		</div>
		<div id="complaints" class="modal complaint-modal">
			<div class="modal-content">
			  <h3 class="font600">Add Complaint</h3>
			  <span class="modal-close close-mode"><i class="material-icons font-size-change1">close</i></span>
			  <p>We are only able to process the recharge dispute that is raised within 48 hours of transaction.</p>
			  <form>
				<div class="row no-margin">
				  <div class="input-field col s12">
					<select>
					  <option value="" disabled selected>Choose your option</option>
					  <option value="1">Balance did not receive by customer</option>
					  <option value="2">Wrong Opreater but correct recharge No/ID</option>
					  <option value="3">Wrong Recharge No/ID but correct opreater </option>
					  <option value="4">Other</option>
					</select>
				  </div>
				  <div class="input-field col s12">
					<textarea id="textarea1" class="materialize-textarea"></textarea>
					<label for="textarea1" class="font-size-change">Description</label>
				  </div>
				</div>
			  </form>
			</div>
			<div class="modal-footer orange center">
			  <a href="javascript:" class="modal-action btn-flat white-text font-size-change" (click)="add_complaint()">Register</a>
			</div>
		  </div>
	</section>
	
	<app-footer-min></app-footer-min>