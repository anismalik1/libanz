<app-header></app-header>
<div class="spinner-wrapper">
    <ngx-spinner
        bdColor="rgba(255,255,255,0.8)"
        size="default"
        color="#ec9737"
        loadingText="Loading..."
        type="ball-clip-rotate">
    </ngx-spinner>
</div>
<section class="flash-deal">
    <div class="container">
        <div class="row no-margin">
            <div class="col s12 m3">
                <div class="card">
              <div class="card-content user-content">
                  <div class="user-image">
                      <img src="{{this.todoservice.base_url}}assets/images/recharge-icon/user.svg" class="responsive-img" alt="User-icon" width="50">
                  </div>
                  <div class="user-name">
                      <span>Welcome,</span><br>
                      <span class="font-size-change font600" *ngIf="this.todoservice.get_user_name()">{{this.todoservice.get_user_name()}}</span>
                  </div>
              </div>
            </div>
            <app-side-nav></app-side-nav>
            </div>
            <div class="col s12 m9">
                <div class="row">
                    <div class="col s12 m4">
                        <div class="card">
                            <div class="card-content">
                                <span class="card-title inline-block font-size-change1">Sales</span>
                                <span class="badge orange white-text inline-block right margin-top-cart1">gross</span>
                                <div class="slaes-rup margin-top-cart">
                                    <span class="font-size-change2"><i class="icon-inr"></i>{{sales_obj.total_sum}}</span>
                                    <small class="font-size-change grey-text">This Week</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="col s12 m4">
                        <div class="card">
                            <div class="card-content">
                                <span class="card-title inline-block font-size-change1">Retailer Registered</span>
                                <div class="slaes-rup margin-top-cart">
                                    <span class="font-size-change2">232</span>
                                    <small class="font-size-change grey-text">Last Week</small>
                                   <div class="percent-info green-text inline-block right margin-top-cart1">8% <i class="material-icons">trending_up</i></div> 
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <div class="col s12 m4">
                        <div class="card">
                            <div class="card-content">
                                <span class="card-title inline-block font-size-change1">DTH Orders ({{products_obj.total_orders}})</span>
                                <div class="slaes-rup margin-top-cart">
                                    <span class="font-size-change2">{{products_obj.total_sum }}</span>
                                    <small class="font-size-change grey-text">This Week</small>
                                    <!-- <div class="percent-info green-text inline-block right margin-top-cart1">8% <i class="material-icons">trending_up</i></div> -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col s12 m4">
                        <div class="card">
                            <div class="card-content">
                                <span class="card-title inline-block font-size-change1">Recharge Orders ({{recharge_obj.total_orders}})</span>
                                <div class="slaes-rup margin-top-cart">
                                    <span class="font-size-change2">{{recharge_obj.total_sum}}</span>
                                    <small class="font-size-change grey-text">This Week</small>
                                    <!-- <div class="percent-info green-text inline-block right margin-top-cart1">8% <i class="material-icons">trending_up</i></div> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-content">
                        <h3 class="font600 inline-block">Recent DTH Orders</h3>
							<!-- <a href="javascript:" class="right inline-block margin-top-cart"><button type="submit" class="btn orange no-box-shadow" (click)="orders_to_export()" id="export-order-txt">Export All Data</button></a> -->
							<a [routerLink]="['/dashboard/dth-orders']" class="right inline-block margin-top-cart"><button type="submit" class="btn orange no-box-shadow" id="export-order-txt">View All</button></a>
							<div class="overflow-scroll">
								<table id="datatable1" class="display responsive-table datatable-example">
										<thead>
											<tr>
												<th nowrap="nowrap" width="57px">S.No.</th>
												<th nowrap="nowrap">Order No.</th>
												<th nowrap="nowrap" width="125px">Product</th>
												<th nowrap="nowrap" width="102px">Order Date</th>
												<th nowrap="nowrap" width="140px">Amount</th>
												<th nowrap="nowrap" width="130px">Subscriber ID</th>
												<th nowrap="nowrap" width="135px">Paymnet Method</th>
												<th nowrap="nowrap" width="135px">Deliver to</th>
												<th nowrap="nowrap" width="95px">Status</th>
												<!-- <th nowrap="nowrap" width="95px">Action</th> -->
											</tr>
										</thead>
										<tfoot>
											<tr>
												<th nowrap="nowrap" width="57px">S.No.</th>
												<th nowrap="nowrap">Order No.</th>
												<th nowrap="nowrap" width="125px">Product</th>
												<th nowrap="nowrap" width="102px">Order Date</th>
												<th nowrap="nowrap" width="140px">Amount</th>
												<th nowrap="nowrap" width="130px">Subscriber ID</th>
												<th nowrap="nowrap" width="135px">Paymnet Method</th>
												<th nowrap="nowrap" width="135px">Deliver to</th>
												<th nowrap="nowrap" width="95px">Status</th>
												<!-- <th nowrap="nowrap" width="95px">Action</th> -->
											</tr>
										</tfoot>
										<tbody>
												<tr *ngFor="let item of orders;let i=index">
														<td>{{i+1}}</td>
														<td>{{item.id}}</td>
														<td>{{item.title}}</td>
														<td>{{item.order_date | date: date:'dd M, Y'}}<br></td>
														<td><i class="icon-inr"></i>{{item.final_price}}</td>
														<td>{{item.subcriber_id}}</td>
														<td>{{item.payment}}</td>
														<td>{{item.deliver_to}}</td>
														<td *ngIf="item.status == 'Pending'"><span class="orange white-text padd1">Pending</span></td>
														<td *ngIf="item.status == 'Failed'"><span class="red white-text padd1">Failed</span></td>
														<td *ngIf="item.status != 'Failed' && item.status != 'Pending'"><span class="green white-text padd1">{{item.status}}</span></td>
														<!-- <td>
																<a href="#view-more" class="btn tooltipped btn-icon orange modal-trigger" data-position="top" data-delay="40" data-tooltip="View"><i class="material-icons font-size-change">visibility</i></a>
														</td> -->
												</tr>
										</tbody>	
								</table>
							</div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-content">
                        <h3 class="font600 inline-block">Recent Recharge Orders</h3>
							<!-- <a href="javascript:" class="right inline-block margin-top-cart"><button type="submit" class="btn orange no-box-shadow" (click)="recharges_to_export()" id="export-recharge-txt">Export All Data</button></a> -->
							<a [routerLink]="['/dashboard/recharge']" class="right inline-block margin-top-cart"><button type="submit" class="btn orange no-box-shadow" id="export-recharge-txt">View All</button></a>
							<div class="overflow-scroll">
								<table id="datatable" class="display responsive-table datatable-example">
										<thead>
											<tr>
												<th nowrap="nowrap" width="57px">S.No.</th>
												<th nowrap="nowrap">Order No.</th>
												<th nowrap="nowrap" width="113px">Recharge No.</th>
												<th nowrap="nowrap" width="137px">Service Provider</th>
												<th nowrap="nowrap" width="80px">Amount</th>
												<th nowrap="nowrap" width="115px">Out Standing</th>
												<th nowrap="nowrap" width="102px">Order Date</th>
												<th nowrap="nowrap" width="140px">Payment Method</th>
												<th nowrap="nowrap" width="130px">Payment Status</th>
												<th nowrap="nowrap" width="135px">Recharge Status</th>
												<th nowrap="nowrap" width="95px">Complaint</th>
											</tr>
										</thead>
										<tfoot>
											<tr>
												<th nowrap="nowrap" width="57px">S.No.</th>
												<th nowrap="nowrap">Order No.</th>
												<th nowrap="nowrap" width="113px">Recharge No.</th>
												<th nowrap="nowrap" width="137px">Service Provider</th>
												<th nowrap="nowrap" width="80px">Amount</th>
												<th nowrap="nowrap" width="115px">Out Standing</th>
												<th nowrap="nowrap" width="102px">Order Date</th>
												<th nowrap="nowrap" width="140px">Payment Method</th>
												<th nowrap="nowrap" width="130px">Payment Status</th>
												<th nowrap="nowrap" width="135px">Recharge Status</th>
												<th nowrap="nowrap" width="95px">Complaint</th>
											</tr>
										</tfoot>
										<tbody>
												<tr *ngFor="let recharge of recharges;let i = index">
														<td>{{i+1}}</td>
														<td>{{recharge.recharge_order}}</td>
														<td>{{recharge.recharge_no}}</td>
														<td><img src="https://mydthshop.com/media/uploads/api_catimages/{{recharge.api_img}}" width="35px" class="responsive-img" alt="{{recharge.recharge_name}}"></td>
														<td> <i class="icon-inr"></i>{{recharge.amount}}</td>
														<td> <i class="icon-inr"></i>{{recharge.balance_before}}</td>
														<td>{{recharge.order_date | date: date:'dd M, Y' }}<br><time>{{recharge.order_date | date:'HH:mm a' }}</time></td>
														<td *ngIf="recharge.payment_gateway == 1">Wallet</td>
														<td *ngIf="recharge.payment_gateway == 2">Gateway</td>
														<td *ngIf="recharge.payment_gateway == 3">Wallet/Gateway</td>
														<td *ngIf="recharge.payment_gateway == 4">Paytm</td>
														<td *ngIf="recharge.payment_status == 1">Complete</td>
														<td *ngIf="recharge.payment_status == 2">Fail</td>
														<td *ngIf="recharge.payment_status == 3">Pending</td>
														<td *ngIf="recharge.recharge_status == 1"><span class="green white-text padd1">Success</span></td>
														<td *ngIf="recharge.recharge_status == 2"><span class="red white-text padd1">Fail</span></td>
														<td *ngIf="recharge.recharge_status == 3"><span class="orange white-text padd1">Progress</span></td>
														<td><a href="#complaints" class="modal-trigger com">Complaint</a></td>
												</tr>
										</tbody>	
								</table>
							</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<app-footer-min></app-footer-min>